<!doctype html>
<html>
  <head>
    <script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
  </head>
  <body>
    <h2 id="displaySay"></h2>
    <input type='text' id='textInput' placeholder='Text'>
    <a id="addButton" role="button">Add</a>
    <script>
        var mainRef = new Firebase("https://6583ml.firebaseio.com/");
        var sayJson = mainRef.child("say");
        sayJson.on('value', function f(s) {
            $('#displaySay').text(s.val());
        });
        $('#addButtone').click(function() {
            sayJson.transaction(function(current_value) {
                return current_value + " " + $('#textInput').val();
            });
            $('#textInput').val('');
        });
        $('#textInput').keypress(function (e) {
            if (e.keyCode == 13) {
                sayJson.transaction(function(current_value) {
                    return current_value + " " + $('#textInput').val();
                });
                $('#textInput').val('');
            }
        });  
    </script>
  </body>
</html>
